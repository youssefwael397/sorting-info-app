{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\back\\\\src\\\\components\\\\Admin.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./Admin.module.css\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { useEffect, useState } from \"react\";\nimport { env } from \"../env\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Admin() {\n  _s();\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [arr, setArr] = useState(null);\n  const apiUrl = `${env.API_PATH}user/index.php`;\n  const formData = new FormData();\n  formData.append(\"_method\", \"delete\");\n\n  const deleteUser = id => {\n    axios.post(`${apiUrl}/${id}`, formData).then(() => toast.warn(\"user deleted successfully\")).then(() => {\n      setArr(arr.filter(user => user.Social_ID != id));\n    });\n  };\n\n  const api = () => {\n    axios.get(apiUrl).then(res => {\n      console.log(res.data);\n      setArr(res.data);\n    });\n  };\n\n  useEffect(() => {\n    api();\n  }, []);\n\n  const inputHandler = event => {\n    setSearchTerm(event.target.value);\n  }; ////content management////\n\n\n  var content = \"\";\n\n  if (arr == null || arr.length === 0) {\n    content = /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"There is no users \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }, this);\n  } else {\n    content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-responsive\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-hover\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"SocialId\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Image url\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: searchTerm.trim().length == 0 ? arr.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: arr.indexOf(user) + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.Social_ID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  width: \"150\",\n                  src: `data:image/jpeg;base64,${user.Photo}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteUser(user.Social_ID),\n                className: \"btn btn-danger\",\n                children: \"delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, arr.indexOf(user) + 1, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)) : arr.filter(user => user.Name.toUpperCase().startsWith(searchTerm.toUpperCase())).map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: arr.indexOf(user) + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.Social_ID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  width: \"150\",\n                  src: `data:image/jpeg;base64,${user.Photo}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteUser(user.Social_ID),\n                className: \"btn btn-danger\",\n                children: \"delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, arr.indexOf(user) + 1, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container w-60 w-sm-100 mt-3 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search...\",\n      class: \"form-control\",\n      onChange: inputHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"bottom-left\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), content]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Admin, \"J+fZFGkZfxNNqkNgHKCPRa+YKFo=\");\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["C:/xampp/htdocs/back/src/components/Admin.js"],"names":["classes","axios","ToastContainer","toast","useEffect","useState","env","Admin","searchTerm","setSearchTerm","arr","setArr","apiUrl","API_PATH","formData","FormData","append","deleteUser","id","post","then","warn","filter","user","Social_ID","api","get","res","console","log","data","inputHandler","event","target","value","content","length","trim","map","indexOf","Name","Photo","toUpperCase","startsWith"],"mappings":"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","sourcesContent":["import classes from \"./Admin.module.css\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { env } from \"../env\";\r\nfunction Admin() {\r\n  const[searchTerm , setSearchTerm] = useState(\"\");\r\n\r\n  const [arr, setArr] = useState(null);\r\n  const apiUrl = `${env.API_PATH}user/index.php`;\r\n  const formData = new FormData();\r\n  formData.append(\"_method\",\"delete\");\r\n\r\n  const deleteUser = (id) => {\r\n    axios\r\n      .post(\r\n        `${apiUrl}/${id}`,formData\r\n      )\r\n      .then(() => toast.warn(\"user deleted successfully\"))\r\n      .then(() => {\r\n        setArr(arr.filter(user=>user.Social_ID!=id))\r\n      });\r\n  };\r\n\r\n  const api=()=>{\r\n    axios.get(apiUrl).then((res) => {\r\n      console.log(res.data);\r\n   \r\n      setArr(res.data);\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    api()\r\n  }, []);\r\n  \r\n  const inputHandler = (event)=>{\r\n    setSearchTerm(event.target.value)\r\n  }\r\n\r\n   \r\n    \r\n  ////content management////\r\n  var content = \"\";\r\n  if (arr == null || arr.length === 0) {\r\n    content = <h1>There is no users </h1>;\r\n  } else {\r\n    content = (\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table table-hover\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">SocialId</th>\r\n              <th scope=\"col\">Image url</th>\r\n              <th scope=\"col\">Delete</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n           {searchTerm.trim().length == 0 ? arr.map((user) => (\r\n              <tr key={arr.indexOf(user) + 1}>\r\n                <td>{arr.indexOf(user) + 1}</td>\r\n                <td>{user.Name}</td>\r\n                <td>{user.Social_ID}</td>\r\n                <td>\r\n                  <a href={\"#\"}><img width=\"150\" src={`data:image/jpeg;base64,${user.Photo}`}></img></a>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    onClick={() => deleteUser(user.Social_ID)}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n           )):arr.filter(user => user.Name.toUpperCase().startsWith(searchTerm.toUpperCase())).map((user) => (\r\n              <tr key={arr.indexOf(user) + 1}>\r\n                <td>{arr.indexOf(user) + 1}</td>\r\n                <td>{user.Name}</td>\r\n                <td>{user.Social_ID}</td>\r\n                <td>\r\n                  <a href={\"#\"}><img width=\"150\" src={`data:image/jpeg;base64,${user.Photo}`}></img></a>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    onClick={() => deleteUser(user.Social_ID)}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    delete\r\n                  </button>\r\n                </td>\r\n              </tr>))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    \r\n    <div className=\"container w-60 w-sm-100 mt-3 text-center\">\r\n    <input type=\"text\" placeholder= \"Search...\"  class=\"form-control\"\r\n     onChange={inputHandler} />\r\n      <ToastContainer position=\"bottom-left\" />\r\n      {content}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}