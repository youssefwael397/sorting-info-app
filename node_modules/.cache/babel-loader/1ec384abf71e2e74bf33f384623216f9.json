{"ast":null,"code":"import _slicedToArray from\"D:/back/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import axios from\"axios\";import classes from\"./Home.module.css\";import{ToastContainer,toast}from'react-toastify';import{env}from\"../env\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),socialId=_useState6[0],setSocialId=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),img=_useState8[0],setimg=_useState8[1];var apiUrl='http://storing-info-app.epizy.com/php/user/index.php';var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();setError(null);if(socialId.length===14){console.log(img);var formData=new FormData();console.log(img);formData.append(\"name\",name);formData.append(\"social_id\",socialId);formData.append(\"image\",img);var config={headers:{'content-type':'multipart/form-data'}};axios.post(apiUrl,formData,config);setSocialId('');setName('');setimg('');toast.success(\"user added successfully\");}else{setError(\"social id must be 14 number\");setTimeout(function(){setError(null);},3000);}};var onChangeNameHandler=function onChangeNameHandler(e){setName(e.target.value);};var onChangeSocialIDHandler=function onChangeSocialIDHandler(e){setSocialId(e.target.value);};var onChangePhotoHandler=function onChangePhotoHandler(e){console.log(e);setimg(e.target.files[0]);};return/*#__PURE__*/_jsxs(\"form\",{className:\"container mt-5 w-50 \",onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInput1\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",onChange:onChangeNameHandler,className:\"form-control\",id:\"exampleInput1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Your Name\",value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInput2\",children:\"Social ID\"}),/*#__PURE__*/_jsx(\"input\",{min:\"1\",value:socialId,onChange:onChangeSocialIDHandler,type:\"number\",required:true,className:\"form-control\",id:\"exampleInput2\",placeholder:\"Social ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInput3\",children:\"Photo\"}),/*#__PURE__*/_jsx(\"input\",{required:true,onChange:onChangePhotoHandler,type:\"file\",className:\"form-control\",id:\"exampleInput3\",placeholder:\"Password\",accept:\"image/*\",files:img}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.alert,\" alert-danger mt-2\"),role:\"alert\",children:error})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-left\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark mt-2 w-100\",children:\"Submit\"})]});}export default Home;","map":{"version":3,"sources":["D:/back/src/components/Home.js"],"names":["useState","axios","classes","ToastContainer","toast","env","Home","name","setName","error","setError","socialId","setSocialId","img","setimg","apiUrl","onSubmitHandler","e","preventDefault","length","console","log","formData","FormData","append","config","headers","post","success","setTimeout","onChangeNameHandler","target","value","onChangeSocialIDHandler","onChangePhotoHandler","files","alert"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport classes from \"./Home.module.css\"\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { env } from \"../env\";\r\nfunction Home() {\r\n  const [name, setName] = useState()\r\n  const [error, setError] = useState(null)\r\n  const [socialId, setSocialId] = useState(\"\")\r\n  const [img, setimg] = useState()\r\n  const apiUrl = 'http://storing-info-app.epizy.com/php/user/index.php';\r\n\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault()\r\n    setError(null)\r\n    if (socialId.length === 14) {\r\n      console.log(img)\r\n      const formData = new FormData();\r\n\r\n      console.log(img);\r\n      formData.append(\"name\", name);\r\n      formData.append(\"social_id\", socialId);\r\n      formData.append(\"image\", img);\r\n      const config = {\r\n        headers: {\r\n          'content-type': 'multipart/form-data'\r\n        }\r\n      }\r\n      axios.post(apiUrl, formData, config)\r\n      setSocialId('')\r\n      setName('')\r\n      setimg('')\r\n      toast.success(\"user added successfully\");\r\n    } else {\r\n      setError(\"social id must be 14 number\")\r\n      setTimeout(() => {\r\n        setError(null)\r\n      }, 3000)\r\n    }\r\n\r\n  }\r\n\r\n\r\n  const onChangeNameHandler = (e) => {\r\n    setName(e.target.value)\r\n  }\r\n  const onChangeSocialIDHandler = (e) => {\r\n    setSocialId(e.target.value)\r\n  }\r\n  const onChangePhotoHandler = (e) => {\r\n    console.log(e);\r\n    setimg(e.target.files[0])\r\n  }\r\n\r\n\r\n\r\n  return (\r\n\r\n    <form className='container mt-5 w-50 ' onSubmit={onSubmitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"exampleInput1\" >Name</label>\r\n        <input required\r\n          type=\"text\"\r\n          onChange={onChangeNameHandler}\r\n          className=\"form-control\"\r\n          id=\"exampleInput1\"\r\n          aria-describedby=\"emailHelp\"\r\n          placeholder=\"Enter Your Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"exampleInput2\">Social ID</label>\r\n        <input\r\n          min=\"1\"\r\n          value={socialId}\r\n          onChange={onChangeSocialIDHandler}\r\n          type=\"number\"\r\n          required\r\n          className=\"form-control\"\r\n          id=\"exampleInput2\"\r\n          placeholder=\"Social ID\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"exampleInput3\">Photo</label>\r\n        <input\r\n          required\r\n          onChange={onChangePhotoHandler}\r\n          type=\"file\"\r\n          className=\"form-control\"\r\n          id=\"exampleInput3\"\r\n          placeholder=\"Password\"\r\n          accept=\"image/*\"\r\n          files={img}\r\n        />\r\n        {error && <div className={`${classes.alert} alert-danger mt-2`} role=\"alert\">{error}</div>}\r\n      </div>\r\n      <ToastContainer position=\"bottom-left\" />\r\n      <button type=\"submit\" className={`btn btn-dark mt-2 w-100`}>\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}